<div class="admin-panel">
  <h2>ğŸ‘‘ Panneau d'administration</h2>

<div class="dashboard">
  <div class="card">
    <h3>ğŸ“¦ Produits</h3>
    <p>{{ stats.products }}</p>
  </div>
  <div class="card">
    <h3>ğŸ‘¤ Utilisateurs</h3>
    <p>{{ stats.users }}</p>
  </div>
  <div class="card">
    <h3>ğŸ›’ Commandes</h3>
    <p>{{ stats.orders }}</p>
  </div>
  <div class="card">
    <h3>ğŸ’° Ventes totales</h3>
    <p>{{ stats.sales }} dt</p>
  </div>
</div>
<h1><li><a routerLink="/admin/custom-perfumes">ğŸ˜âœ¨CrÃ©ations Bella</a></li></h1>


  <h3>Liste des produits disponibles :</h3>


<div class="product" *ngFor="let product of products">
  <img [src]="'assets/images/' + product.image" alt="{{ product.name }}" />
  <h4>{{ product.name }}</h4>
  <p>{{ product.details }}</p>
  <strong>{{ product.price }} dt</strong>
  <br />
 
  <button class="btn-delete" (click)="deleteProduct(product.id)">ğŸ—‘ Supprimer</button>
  

  <button class="btn-edit" (click)="startEdit(product, editDialog)">âœï¸ Modifier</button>

</div>



<h3>â• Ajouter un nouveau produit</h3>

<form (ngSubmit)="addProduct()" #productForm="ngForm" class="form-add">
  <input type="text" [(ngModel)]="newProduct.name" name="name" placeholder="Nom du produit" required />
  <input type="text" [(ngModel)]="newProduct.details" name="details" placeholder="Description" required />
  <input type="number" [(ngModel)]="newProduct.price" name="price" placeholder="Prix" required />
  <input type="text" [(ngModel)]="newProduct.image" name="image" placeholder="Nom du fichier image (ex: rose.jpg)" required />
  <button type="submit">Ajouter</button>
</form>
<dialog #editDialog >
  <form *ngIf="editProduct" (ngSubmit)="saveProduct()" class="form-edit-dialog">
    <h3>âœï¸ Modifier le produit</h3>

    <input type="text" [(ngModel)]="editProduct.name" name="editName" placeholder="Nom" required />
    <input type="text" [(ngModel)]="editProduct.details" name="editDetails" placeholder="DÃ©tails" required />
    <input type="number" [(ngModel)]="editProduct.price" name="editPrice" placeholder="Prix" required />
    <input type="text" [(ngModel)]="editProduct.image" name="editImage" placeholder="Image" required />

    <button type="submit">âœ… Valider</button>
    <button type="button" (click)="closeDialog()">âŒ Annuler</button>
  </form>
</dialog>

<h3>ğŸ“¨ Messages des clients</h3>

<table class="messages-table">
  <thead>
    <tr>
      <th>Nom</th>
      <th>Email</th>
      <th>TÃ©lÃ©phone</th>
      <th>Message</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let msg of messages">
  <td>{{ msg.name }}</td>
  <td>{{ msg.email }}</td>
  <td>{{ msg.number }}</td>
  <td>
    {{ msg.message }}
    <div *ngIf="msg.reply">
      <strong>RÃ©ponse :</strong> {{ msg.reply }}
    </div>

    <div *ngIf="!msg.reply">
      <textarea [(ngModel)]="replyTexts[msg.id]" placeholder="RÃ©pondre..."></textarea>
      <button (click)="sendReply(msg.id)">ğŸ“¤ Envoyer</button>
    </div>
  </td>
</tr>

  </tbody>
</table>

